import{D as s}from"./DocsCallout-BQR4CNYn.js";import{D as n,a as l}from"./DocsPageHeader-64RWP-14.js";import{u as v}from"./useDocHeadings-gQYepUus.js";import{d as b,i as p,c as f,b as i,a as t,k as r,m as e,w as o,o as g}from"./index-D3jXmUN6.js";import{_ as h}from"./_plugin-vue_export-helper-DlAUqK2U.js";const u="/images/docs/profiler-settings-builder.png",m="/images/docs/profiler-settings-builder-2.png",y={class:"docs-article"},w={class:"docs-content"},k=b({__name:"ProjectsProfilerSettingsPage",setup(P){const{setHeadings:c}=v(),d=[{id:"what-are-profiler-settings",text:"What are Profiler Settings?",level:2},{id:"settings-builder",text:"Settings Builder",level:2},{id:"settings-hierarchy",text:"Settings Hierarchy",level:2},{id:"workspace-availability",text:"Workspace Availability",level:2}];return p(()=>{c(d)}),(S,a)=>(g(),f("article",y,[i(n,{title:"Profiler Settings",icon:"bi bi-cpu"}),t("div",w,[a[4]||(a[4]=t("p",null,[e("Profiler Settings configure the "),t("strong",null,"Async-Profiler agent"),e(" used for "),t("strong",null,"Recording Collection"),e(" in Live workspaces, controlling what events are recorded and how profiling is performed.")],-1)),i(s,{type:"warning"},{default:o(()=>[...a[0]||(a[0]=[t("strong",null,"Workspace Availability:",-1),e(" Profiler Settings are only available in ",-1),t("strong",null,"Live",-1),e(" and ",-1),t("strong",null,"Remote",-1),e(" workspaces. They configure the Async-Profiler agent that collects recordings from running applications. ",-1)])]),_:1}),a[5]||(a[5]=r('<h2 id="what-are-profiler-settings" data-v-b4c5a951>What are Profiler Settings?</h2><p data-v-b4c5a951>When collecting recordings from Java applications, the profiler agent needs configuration to know:</p><ul data-v-b4c5a951><li data-v-b4c5a951>Which profiling events to capture (CPU, allocation, locks, etc.)</li><li data-v-b4c5a951>How frequently to sample</li><li data-v-b4c5a951>What thresholds to use for event recording</li><li data-v-b4c5a951>Where to store output files</li></ul><p data-v-b4c5a951>Profiler Settings in Jeffrey provide a convenient way to create and manage these configurations. Changes are pushed to application and <strong data-v-b4c5a951>applied after restart</strong>.</p><h2 id="settings-builder" data-v-b4c5a951>Settings Builder</h2><p data-v-b4c5a951>Jeffrey uses <a href="https://github.com/async-profiler/async-profiler" target="_blank" rel="noopener" data-v-b4c5a951>Async-Profiler</a> as its profiling agent and includes a visual <strong data-v-b4c5a951>Profiler Settings Builder</strong> to configure it without memorizing command-line arguments. The builder generates the correct profiler parameters based on your selections.</p>',6)),i(s,{type:"info"},{default:o(()=>[...a[1]||(a[1]=[t("strong",null,"Only Supported Profiler:",-1),e(" Currently, Async-Profiler is the only supported profiling agent in Jeffrey. It provides excellent integration with JFR format and low overhead profiling capabilities. ",-1)])]),_:1}),a[6]||(a[6]=r('<div class="screenshot-container" data-v-b4c5a951><img src="'+u+'" alt="Profiler Settings Builder overview" class="doc-screenshot" data-v-b4c5a951><p class="screenshot-caption" data-v-b4c5a951>Profiler Settings Builder with mandatory options, event toggles, and generated parameters</p></div><h3 data-v-b4c5a951>Mandatory Options</h3><p data-v-b4c5a951>Every profiler configuration requires these essential settings:</p><div class="options-list" data-v-b4c5a951><div class="option-item" data-v-b4c5a951><div class="option-header" data-v-b4c5a951><i class="bi bi-folder2-open" data-v-b4c5a951></i><strong data-v-b4c5a951>Agent Path</strong></div><p data-v-b4c5a951>Path to the Async-Profiler native library (libasyncProfiler.so)</p></div><div class="option-item" data-v-b4c5a951><div class="option-header" data-v-b4c5a951><i class="bi bi-file-earmark-code" data-v-b4c5a951></i><strong data-v-b4c5a951>Output File Pattern</strong></div><p data-v-b4c5a951>Template for output file names, supporting placeholders for timestamps and process IDs</p></div><div class="option-item" data-v-b4c5a951><div class="option-header" data-v-b4c5a951><i class="bi bi-arrow-repeat" data-v-b4c5a951></i><strong data-v-b4c5a951>Loop Duration</strong></div><p data-v-b4c5a951>Duration of each recording cycle before starting a new output file</p></div></div><h3 data-v-b4c5a951>Event Options</h3><p data-v-b4c5a951>Select which profiling events to capture. Each event type can be expanded to configure additional options like sampling intervals, thresholds, and profiling modes.</p><div class="profiler-features" data-v-b4c5a951><div class="feature-card" data-v-b4c5a951><div class="feature-icon" data-v-b4c5a951><i class="bi bi-cpu" data-v-b4c5a951></i></div><div class="feature-content" data-v-b4c5a951><h4 data-v-b4c5a951>CPU Profiling</h4><p data-v-b4c5a951>Sample thread stack traces at regular intervals to find CPU-intensive methods and performance bottlenecks</p></div></div><div class="feature-card" data-v-b4c5a951><div class="feature-icon" data-v-b4c5a951><i class="bi bi-memory" data-v-b4c5a951></i></div><div class="feature-content" data-v-b4c5a951><h4 data-v-b4c5a951>Allocation Profiling</h4><p data-v-b4c5a951>Track object allocations above threshold to identify memory pressure sources and allocation hotspots</p></div></div><div class="feature-card" data-v-b4c5a951><div class="feature-icon" data-v-b4c5a951><i class="bi bi-lock" data-v-b4c5a951></i></div><div class="feature-content" data-v-b4c5a951><h4 data-v-b4c5a951>Lock Profiling</h4><p data-v-b4c5a951>Monitor contended locks and synchronization events to debug threading and concurrency issues</p></div></div><div class="feature-card" data-v-b4c5a951><div class="feature-icon" data-v-b4c5a951><i class="bi bi-clock-history" data-v-b4c5a951></i></div><div class="feature-content" data-v-b4c5a951><h4 data-v-b4c5a951>Wall-Clock Profiling</h4><p data-v-b4c5a951>Sample all threads regardless of state to find I/O bottlenecks and blocking operations</p></div></div><div class="feature-card" data-v-b4c5a951><div class="feature-icon" data-v-b4c5a951><i class="bi bi-signpost-split" data-v-b4c5a951></i></div><div class="feature-content" data-v-b4c5a951><h4 data-v-b4c5a951>Method Tracing</h4><p data-v-b4c5a951>Trace specific method invocations for detailed timing analysis of critical code paths</p></div></div><div class="feature-card" data-v-b4c5a951><div class="feature-icon" data-v-b4c5a951><i class="bi bi-hdd-stack" data-v-b4c5a951></i></div><div class="feature-content" data-v-b4c5a951><h4 data-v-b4c5a951>Native Memory Profiling</h4><p data-v-b4c5a951>Track native (off-heap) memory allocations to debug memory usage outside the Java heap</p></div></div></div><div class="screenshot-container" data-v-b4c5a951><img src="'+m+'" alt="Profiler Settings Builder with expanded options" class="doc-screenshot" data-v-b4c5a951><p class="screenshot-caption" data-v-b4c5a951>Expanded CPU and Allocation profiling options with sampling interval and threshold settings</p></div><h3 data-v-b4c5a951>Advanced Options</h3><p data-v-b4c5a951>Fine-tune JFR output format and enable additional features:</p><div class="profiler-features" data-v-b4c5a951><div class="feature-card" data-v-b4c5a951><div class="feature-icon" data-v-b4c5a951><i class="bi bi-arrow-down-up" data-v-b4c5a951></i></div><div class="feature-content" data-v-b4c5a951><h4 data-v-b4c5a951>JFR Synchronization</h4><p data-v-b4c5a951>Merge Async-Profiler events with JDK&#39;s JFR recording for richer profiling data. Choose from predefined JFC modes (default, profile) or use custom configuration.</p></div></div><div class="feature-card" data-v-b4c5a951><div class="feature-icon" data-v-b4c5a951><i class="bi bi-file-binary" data-v-b4c5a951></i></div><div class="feature-content" data-v-b4c5a951><h4 data-v-b4c5a951>Chunk Size</h4><p data-v-b4c5a951>Maximum size of each JFR chunk file. Smaller chunks enable parallel processing of JFR data. Default is 100 MB.</p></div></div><div class="feature-card" data-v-b4c5a951><div class="feature-icon" data-v-b4c5a951><i class="bi bi-hourglass-split" data-v-b4c5a951></i></div><div class="feature-content" data-v-b4c5a951><h4 data-v-b4c5a951>Chunk Time</h4><p data-v-b4c5a951>Maximum duration of each JFR chunk. A new chunk starts after the specified time. Default is 1 hour.</p></div></div></div><h3 data-v-b4c5a951>Active Parameters</h3><p data-v-b4c5a951>The Settings Builder displays the generated Async-Profiler command arguments in real-time. This helps you understand exactly what configuration will be applied and allows you to copy or modify the parameters if needed.</p>',13)),i(s,{type:"tip"},{default:o(()=>[...a[2]||(a[2]=[t("strong",null,"Apply After Restart:",-1),e(" Profiler settings changes are written to the application's configuration. The new settings take effect when the application restarts - they are not applied to currently running processes. ",-1)])]),_:1}),a[7]||(a[7]=r('<h2 id="settings-hierarchy" data-v-b4c5a951>Settings Hierarchy</h2><p data-v-b4c5a951>Profiler settings follow a hierarchical inheritance model with three levels:</p><div class="hierarchy-diagram" data-v-b4c5a951><div class="hierarchy-level global" data-v-b4c5a951><span class="level-label" data-v-b4c5a951>Global Settings</span><span class="level-desc" data-v-b4c5a951>Default for all workspaces and projects</span></div><div class="hierarchy-arrow" data-v-b4c5a951><i class="bi bi-arrow-down" data-v-b4c5a951></i></div><div class="hierarchy-level workspace" data-v-b4c5a951><span class="level-label" data-v-b4c5a951>Workspace Settings</span><span class="level-desc" data-v-b4c5a951>Override defaults for a specific workspace</span></div><div class="hierarchy-arrow" data-v-b4c5a951><i class="bi bi-arrow-down" data-v-b4c5a951></i></div><div class="hierarchy-level project" data-v-b4c5a951><span class="level-label" data-v-b4c5a951>Project Settings</span><span class="level-desc" data-v-b4c5a951>Override for a specific project (highest priority)</span></div></div><h3 data-v-b4c5a951>How Inheritance Works</h3><ul data-v-b4c5a951><li data-v-b4c5a951><strong data-v-b4c5a951>Global</strong> provides baseline defaults for everything</li><li data-v-b4c5a951><strong data-v-b4c5a951>Workspace</strong> can override specific settings for all projects in that workspace</li><li data-v-b4c5a951><strong data-v-b4c5a951>Project</strong> can override any setting for that specific project</li></ul>',5)),i(s,{type:"info"},{default:o(()=>[...a[3]||(a[3]=[t("strong",null,"Project-level takes priority:",-1),e(" If you set a value at the project level, it overrides workspace and global settings. This lets you fine-tune profiling for specific applications. ",-1)])]),_:1}),a[8]||(a[8]=r('<h2 id="workspace-availability" data-v-b4c5a951>Workspace Availability</h2><p data-v-b4c5a951>Profiler Settings availability depends on workspace type:</p><table data-v-b4c5a951><thead data-v-b4c5a951><tr data-v-b4c5a951><th data-v-b4c5a951>Workspace</th><th data-v-b4c5a951>Profiler Settings</th><th data-v-b4c5a951>Reason</th></tr></thead><tbody data-v-b4c5a951><tr data-v-b4c5a951><td data-v-b4c5a951><strong data-v-b4c5a951>Sandbox</strong></td><td data-v-b4c5a951><i class="bi bi-x-lg text-muted" data-v-b4c5a951></i> Not available</td><td data-v-b4c5a951>No agent connection - manual uploads only</td></tr><tr data-v-b4c5a951><td data-v-b4c5a951><strong data-v-b4c5a951>Live</strong></td><td data-v-b4c5a951><i class="bi bi-check-lg text-success" data-v-b4c5a951></i> Available</td><td data-v-b4c5a951>Configures local profiler agents</td></tr><tr data-v-b4c5a951><td data-v-b4c5a951><strong data-v-b4c5a951>Remote</strong></td><td data-v-b4c5a951><i class="bi bi-check-lg text-success" data-v-b4c5a951></i> Available</td><td data-v-b4c5a951>Configures agents on remote server</td></tr></tbody></table>',3))]),i(l)]))}}),D=h(k,[["__scopeId","data-v-b4c5a951"]]);export{D as default};
