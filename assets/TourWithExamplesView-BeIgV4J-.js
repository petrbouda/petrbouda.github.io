import{_ as t}from"./_plugin-vue_export-helper-DlAUqK2U.js";import{c as i,a as e,k as d,b as o,w as s,m as r,r as n,o as l}from"./index-C-iaNavr.js";const v={},b={class:"container-wide py-5"},p={class:"row"},f={class:"col-12"},h={class:"d-flex align-items-center justify-content-between mb-4"};function m(g,a){const c=n("router-link");return l(),i("div",b,[e("div",p,[e("div",f,[e("div",h,[a[1]||(a[1]=e("div",{class:"d-flex align-items-center"},[e("div",{class:"page-header-icon me-3 bg-primary-gradient"},[e("i",{class:"bi bi-collection"})]),e("h1",{class:"page-title mb-0"},"Tour with Examples")],-1)),o(c,{to:"/launch-it",class:"btn btn-outline-secondary"},{default:s(()=>[...a[0]||(a[0]=[e("i",{class:"bi bi-arrow-left me-2"},null,-1),r("Back to Launch It ",-1)])]),_:1})]),a[2]||(a[2]=d('<div class="page-content bg-white rounded-3 p-0" data-v-19ccbae6><div class="content-section" data-v-19ccbae6><div class="intro-text" data-v-19ccbae6><p data-v-19ccbae6>The <code data-v-19ccbae6>jeffrey-examples</code> Docker image contains pre-generated recordings that demonstrate Jeffrey&#39;s capabilities. These examples help you understand how Jeffrey works without needing to set up your own recordings.</p></div><div class="step-card" data-v-19ccbae6><div class="step-number" data-v-19ccbae6>1</div><div class="step-content" data-v-19ccbae6><h3 data-v-19ccbae6>Quick Start</h3><p data-v-19ccbae6>Launch the Docker container with the following command:</p><pre data-v-19ccbae6><code data-v-19ccbae6>docker run -it --network host petrbouda/jeffrey-examples</code></pre><p data-v-19ccbae6>After starting the container, open <a href="http://localhost:8080" target="_blank" data-v-19ccbae6>http://localhost:8080</a> in your browser to access the Jeffrey UI.</p></div></div><div class="concepts-grid" data-v-19ccbae6><div class="concept-card" data-v-19ccbae6><div class="concept-icon" data-v-19ccbae6><i class="bi bi-github" data-v-19ccbae6></i></div><h4 data-v-19ccbae6>Test Application</h4><p data-v-19ccbae6>A multi-threaded web application storing person information with intentional inefficiencies for interesting profiling data.</p><ul data-v-19ccbae6><li data-v-19ccbae6><a href="https://github.com/petrbouda/jeffrey-testapp" data-v-19ccbae6>View on GitHub</a></li><li data-v-19ccbae6><code data-v-19ccbae6>direct</code> - HTTP/JSON serialized directly to/from Java Objects, contain additional caching</li><li data-v-19ccbae6><code data-v-19ccbae6>dom</code> - HTTP/JSON through DOM (JsonNode) then to Java Objects, creates garbage intentionally</li></ul></div><div class="concept-card" data-v-19ccbae6><div class="concept-icon" data-v-19ccbae6><i class="bi bi-diagram-3" data-v-19ccbae6></i></div><h4 data-v-19ccbae6>Profile Concepts</h4><ul data-v-19ccbae6><li data-v-19ccbae6><strong data-v-19ccbae6>Recording:</strong> Profiling data, in most case a single JFR recording file, but can contain some additional files (Logs, PerfData Heap Dumps, ...)</li><li data-v-19ccbae6><strong data-v-19ccbae6>Profile:</strong> Parsed and initialized data from the recordings to a single unit for investigation</li><li data-v-19ccbae6><strong data-v-19ccbae6>Primary:</strong> Main profile</li><li data-v-19ccbae6><strong data-v-19ccbae6>Secondary:</strong> Profile to be used for comparison</li></ul></div></div><div class="step-card" data-v-19ccbae6><div class="step-number" data-v-19ccbae6>2</div><div class="step-content" data-v-19ccbae6><h3 data-v-19ccbae6>Create Your First Profile</h3><p data-v-19ccbae6>Select the <code data-v-19ccbae6>Examples</code> project and navigate to the <code data-v-19ccbae6>Recordings</code> section. Choose any recording from the folder <code data-v-19ccbae6>Persons</code> and start the initialization of a new profile. Switch to the <code data-v-19ccbae6>Profiles</code> section and wait for the initialization to be finished.</p><div class="info-note" data-v-19ccbae6><i class="bi bi-info-circle" data-v-19ccbae6></i><span data-v-19ccbae6>It can take a while based on the size of the selected recording. Currently, SQLite database is used under the hood, therefore, there are limited possibilities to enhance parallelism while inserting data. It&#39;s going to be improved in the future.</span></div></div></div></div></div><div class="categories-section" data-v-19ccbae6><div class="categories-grid" data-v-19ccbae6><div class="category-card" data-v-19ccbae6><div class="category-icon cpu" data-v-19ccbae6><i class="bi bi-cpu" data-v-19ccbae6></i></div><h4 data-v-19ccbae6>CPU Examples</h4><p data-v-19ccbae6> These recordings were recorded using Async-Profiler and contain full-featured CPU samples with stacktraces that include Java, JVM and Kernel frames (available only on Linux with perf_events). After opening the generated profile, select the <code data-v-19ccbae6>Flamegraphs</code> section and choose of the predefined flamegraph types. </p><p data-v-19ccbae6> You can also use the <code data-v-19ccbae6>Differential Flamegraphs</code> section to compare two profiles, <code data-v-19ccbae6>direct</code> vs. <code data-v-19ccbae6>dom</code> serde (both profiles needs to be generated from recordings). The <code data-v-19ccbae6>Secondary Profile</code> needs to be selected to enable the button in sidebar menu. </p><div class="category-examples" data-v-19ccbae6><div class="example-item" data-v-19ccbae6>jeffrey-persons-direct-serde-cpu.jfr</div><div class="example-item" data-v-19ccbae6>jeffrey-persons-dom-serde-cpu.jfr</div></div></div><div class="category-card" data-v-19ccbae6><div class="category-icon timer" data-v-19ccbae6><i class="bi bi-stopwatch" data-v-19ccbae6></i></div><h4 data-v-19ccbae6>CTimer Examples</h4><p data-v-19ccbae6> ctimer is a special mode while recording using Async-Profiler: <a href="https://github.com/async-profiler/async-profiler/blob/master/docs/ProfilingInContainer.md" data-v-19ccbae6>Profiling in Container</a>. This is the default mode when perf_events are not available on Linux, especially in containers. </p><p data-v-19ccbae6> These recordings contain CPU samples with stacktraces, but without Kernel frames. You can check it out in the <code data-v-19ccbae6>Flamegraphs</code> and <code data-v-19ccbae6>Differential Flamegraphs</code> section. </p><div class="category-examples" data-v-19ccbae6><div class="example-item" data-v-19ccbae6>jeffrey-persons-direct-serde-ctimer.jfr</div><div class="example-item" data-v-19ccbae6>jeffrey-persons-dom-serde-ctimer.jfr</div></div></div><div class="category-card" data-v-19ccbae6><div class="category-icon jdk" data-v-19ccbae6><i class="bi bi-gear" data-v-19ccbae6></i></div><h4 data-v-19ccbae6>JDK Examples</h4><p data-v-19ccbae6> These recordings were recorded purely using JDK Flight Recorder (JFR). The advantage of this mode is that it works on all platforms, not only on Linux. </p><p data-v-19ccbae6> However, it does not contain real CPU samples and the result might not be correct in some cases. It samples application threads that are in a runnable state. </p><div class="category-examples" data-v-19ccbae6><div class="example-item" data-v-19ccbae6>jeffrey-persons-direct-serde-jdk.jfr</div><div class="example-item" data-v-19ccbae6>jeffrey-persons-dom-serde-jdk.jfr</div></div></div><div class="category-card" data-v-19ccbae6><div class="category-icon custom" data-v-19ccbae6><i class="bi bi-lightning" data-v-19ccbae6></i></div><h4 data-v-19ccbae6>Custom Events</h4><p data-v-19ccbae6> Application-specific metrics and business logic events. Concretely, this recording contain emitted events from <a href="https://central.sonatype.com/artifact/cafe.jeffrey-analyst/jeffrey-events" data-v-19ccbae6>Jeffrey Events</a>: </p><ul data-v-19ccbae6><li data-v-19ccbae6>HTTP Server</li><li data-v-19ccbae6>JDBC Statements</li><li data-v-19ccbae6>JDBC Pool</li></ul><p data-v-19ccbae6>Switch to the <code data-v-19ccbae6>custom mode</code> at the top of the sidebar menu and look at the dashboards related to custom events.</p><p data-v-19ccbae6> Don&#39;t forget to check <code data-v-19ccbae6>Guardian Analysis</code> section with warnings related to: <code data-v-19ccbae6>JIT Compilation</code>, <code data-v-19ccbae6>Logging</code> and <code data-v-19ccbae6>Regular Expressions</code></p><div class="category-examples" data-v-19ccbae6><div class="example-item" data-v-19ccbae6>jeffrey-persons-custom-events.jfr</div></div></div><div class="category-card" data-v-19ccbae6><div class="category-icon tracing" data-v-19ccbae6><i class="bi bi-diagram-2" data-v-19ccbae6></i></div><h4 data-v-19ccbae6>Method Tracing</h4><p data-v-19ccbae6> This is the another special mode from the Async-Profiler that intercept Java or Native methods and records every invocation of the given methods. Look here for more details: <a href="https://github.com/async-profiler/async-profiler/blob/master/docs/ProfilingModes.md#java-method-profiling" data-v-19ccbae6>Method Profiling</a></p><p data-v-19ccbae6> Samples are recorded in <code data-v-19ccbae6>jdk.ExecutionSample</code> event-type and available in predefined <code data-v-19ccbae6>Flamegraphs</code> section. </p><div class="category-examples" data-v-19ccbae6><div class="example-item" data-v-19ccbae6>jeffrey-persons-dom-serde-method-tracing.jfr</div></div></div><div class="category-card" data-v-19ccbae6><div class="category-icon memory" data-v-19ccbae6><i class="bi bi-memory" data-v-19ccbae6></i></div><h4 data-v-19ccbae6>Native Allocation Samples</h4><p data-v-19ccbae6> If you need to figure out native memory leaks in your application, then record native memory using Async-Profiler (<a href="https://github.com/async-profiler/async-profiler/blob/master/docs/ProfilingModes.md#native-memory-leaks" data-v-19ccbae6>Native Memory Profiling</a>) and let visualize it in Jeffrey. </p><p data-v-19ccbae6> Look at the <code data-v-19ccbae6>Flamegraphs</code> section and select Native Allocation flamegraphs related to <code data-v-19ccbae6>Leaks</code> or <code data-v-19ccbae6>Malloc</code> samples. </p><div class="category-examples" data-v-19ccbae6><div class="example-item" data-v-19ccbae6>jeffrey-persons-native-allocation-samples.jfr</div></div></div></div><div class="closing-section" data-v-19ccbae6><h3 data-v-19ccbae6>Start Exploring</h3><p data-v-19ccbae6>These examples are designed to help you get familiar with Jeffrey&#39;s features and learn how to use it effectively for performance analysis.</p><p data-v-19ccbae6>Feel free to explore the recordings and profiles. Each example showcases different aspects of Java application profiling. Don&#39;t forget to check other dashboards containing interesting data belonging application&#39;s behavior.</p></div></div>',2))])])])}const w=t(v,[["render",m],["__scopeId","data-v-19ccbae6"]]);export{w as default};
