import{D as d}from"./DocsCallout-CN2pqXu-.js";import{D as c,a as p}from"./DocsPageHeader-BBF35W9f.js";import{u as f}from"./useDocHeadings-By33_tDs.js";import{d as u,i as v,c as m,b as t,a as s,k as l,m as i,w as o,r as g,o as b}from"./index-DrKSq3n4.js";import{_ as y}from"./_plugin-vue_export-helper-DlAUqK2U.js";const C={class:"docs-article"},S={class:"docs-content"},h={class:"lifecycle-cards"},w={class:"lifecycle-card finished"},k={class:"lifecycle-content"},R=u({__name:"RecordingSessionsLifecyclePage",setup(D){const{setHeadings:a}=f(),r=[{id:"session-states",text:"Session States",level:2},{id:"session-detection",text:"Session Detection",level:2},{id:"session-cleanup",text:"Session Cleanup",level:2}];return v(()=>{a(r)}),(J,e)=>{const n=g("router-link");return b(),m("article",C,[t(c,{title:"Lifecycle",icon:"bi bi-arrow-repeat"}),s("div",S,[e[19]||(e[19]=s("p",null,"Recording sessions go through distinct lifecycle states, from active profiling to completion and eventual cleanup.",-1)),e[20]||(e[20]=s("h2",{id:"session-states"},"Session States",-1)),e[21]||(e[21]=s("p",null,"Each recording session transitions through the following states:",-1)),s("div",h,[e[6]||(e[6]=l('<div class="lifecycle-card active" data-v-14bed97d><div class="lifecycle-icon" data-v-14bed97d><i class="bi bi-record-circle" data-v-14bed97d></i></div><div class="lifecycle-content" data-v-14bed97d><h4 data-v-14bed97d>Active</h4><p data-v-14bed97d>Profiling is in progress. New JFR chunks are being created as time passes. The session remains active until the application stops or profiling is terminated.</p><ul class="lifecycle-details" data-v-14bed97d><li data-v-14bed97d>View files as they&#39;re created in real-time</li><li data-v-14bed97d>Merge available chunks for preliminary analysis</li><li data-v-14bed97d>Monitor session progress and duration</li></ul></div></div>',1)),s("div",w,[e[5]||(e[5]=s("div",{class:"lifecycle-icon"},[s("i",{class:"bi bi-check-circle"})],-1)),s("div",k,[e[3]||(e[3]=s("h4",null,"Finished",-1)),s("p",null,[e[1]||(e[1]=i("Profiling has completed. All JFR files are finalized and ready for analysis via ",-1)),t(n,{to:"/docs/concepts/projects/repository"},{default:o(()=>[...e[0]||(e[0]=[i("Repository",-1)])]),_:1}),e[2]||(e[2]=i(".",-1))]),e[4]||(e[4]=s("ul",{class:"lifecycle-details"},[s("li",null,"Select specific JFR chunks to merge"),s("li",null,"Download all session artifacts"),s("li",null,"Create recordings for profile analysis")],-1))])])]),t(d,{type:"tip"},{default:o(()=>[...e[7]||(e[7]=[s("strong",null,"Selective analysis:",-1),i(" You don't need to merge all chunks. Select specific time periods to analyze - for example, only the startup phase or a specific incident window. ",-1)])]),_:1}),e[22]||(e[22]=s("h2",{id:"session-detection"},"Session Detection",-1)),s("p",null,[e[9]||(e[9]=i("Jeffrey needs to detect when a recording session has finished. This is configured using ",-1)),t(n,{to:"/docs/cli/overview"},{default:o(()=>[...e[8]||(e[8]=[i("Jeffrey CLI",-1)])]),_:1}),e[10]||(e[10]=i(" when setting up your application.",-1))]),e[23]||(e[23]=l('<div class="detection-methods" data-v-14bed97d><div class="detection-card recommended" data-v-14bed97d><div class="detection-icon" data-v-14bed97d><i class="bi bi-speedometer2" data-v-14bed97d></i></div><div class="detection-content" data-v-14bed97d><h4 data-v-14bed97d>Perf-Counters Detection <span class="badge-recommended" data-v-14bed97d>Recommended</span></h4><p data-v-14bed97d>Configure Async-Profiler to dump Perf-Counters when profiling stops. When Jeffrey detects the Perf-Counters file in a session directory, it marks the session as finished.</p></div></div><div class="detection-card" data-v-14bed97d><div class="detection-icon" data-v-14bed97d><i class="bi bi-clock-history" data-v-14bed97d></i></div><div class="detection-content" data-v-14bed97d><h4 data-v-14bed97d>Timeout Detection</h4><p data-v-14bed97d>Fallback method: if no new files appear within a configured timeout period, Jeffrey assumes the session has finished.</p></div></div></div>',1)),t(d,{type:"tip"},{default:o(()=>[...e[11]||(e[11]=[s("strong",null,"Best practice:",-1),i(" Use Perf-Counters detection for reliable and immediate session completion detection. Configure this through Jeffrey CLI when generating JVM arguments for your application. ",-1)])]),_:1}),t(d,{type:"info"},{default:o(()=>[e[13]||(e[13]=s("strong",null,"Scheduler job:",-1)),e[14]||(e[14]=i(" The ",-1)),t(n,{to:"/docs/concepts/projects/scheduler"},{default:o(()=>[...e[12]||(e[12]=[i("Session Finished Detector",-1)])]),_:1}),e[15]||(e[15]=i(" job runs periodically to check for finished sessions and emit workspace events. ",-1))]),_:1}),e[24]||(e[24]=s("h2",{id:"session-cleanup"},"Session Cleanup",-1)),s("p",null,[e[17]||(e[17]=i("Old sessions are automatically cleaned up by ",-1)),t(n,{to:"/docs/concepts/projects/scheduler"},{default:o(()=>[...e[16]||(e[16]=[i("Scheduler jobs",-1)])]),_:1}),e[18]||(e[18]=i(":",-1))]),e[25]||(e[25]=s("ul",null,[s("li",null,[s("strong",null,"Repository Session Cleaner"),i(" - Removes sessions older than configured retention period")]),s("li",null,[s("strong",null,"Repository Recording Cleaner"),i(" - Limits the number of recordings in active sessions")]),s("li",null,[s("strong",null,"JFR Compression"),i(" - Compresses finished JFR files to save storage space")])],-1))]),t(p)])}}}),N=y(R,[["__scopeId","data-v-14bed97d"]]);export{N as default};
