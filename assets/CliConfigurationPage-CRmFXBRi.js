import{D as d}from"./DocsCodeBlock-C0atQP7b.js";import{D as i}from"./DocsCallout-CN2pqXu-.js";import{D as f,a as l}from"./DocsPageHeader-BBF35W9f.js";import{u as c}from"./useDocHeadings-By33_tDs.js";import{d as v,i as u,c as p,b as o,a as t,k as g,m as a,w as r,o as m}from"./index-DrKSq3n4.js";import{_ as b}from"./_plugin-vue_export-helper-DlAUqK2U.js";const h={class:"docs-article"},C={class:"docs-content"},y=`jeffrey-home = "/opt/jeffrey"
workspace-id = "production"
project-name = "my-service"`,j=`jeffrey-home = "/opt/jeffrey"
profiler-path = "/opt/async-profiler/libasyncProfiler.so"
workspace-id = "production"
project-name = "my-service"
project-label = "My Service"
attributes { cluster = "blue", namespace = "production" }

perf-counters { enabled = true }
heap-dump { enabled = true, type = "crash" }
jvm-logging {
  enabled = true
  command = "jfr*=trace:file=<<JEFFREY_CURRENT_SESSION>>/jfr-jvm.log::filecount=3,filesize=5m"
}
messaging { enabled = true, max-age = "24h" }
jdk-java-options { enabled = true, additional-options = "-Xmx2g -Xms2g" }`,J=v({__name:"CliConfigurationPage",setup(O){const{setHeadings:n}=c(),s=[{id:"config-file",text:"Configuration File",level:2},{id:"configuration-options",text:"Configuration Options",level:2},{id:"features",text:"Features",level:2}];return u(()=>{n(s)}),(N,e)=>(m(),p("article",h,[o(f,{title:"Configuration",icon:"bi bi-gear"}),t("div",C,[e[2]||(e[2]=t("p",null,[a("Jeffrey CLI uses "),t("strong",null,"HOCON"),a(" (Human-Optimized Config Object Notation) for configuration. HOCON is a superset of JSON with more readable syntax.")],-1)),e[3]||(e[3]=t("h2",{id:"config-file"},"Configuration File",-1)),e[4]||(e[4]=t("h3",null,"Minimal Configuration",-1)),e[5]||(e[5]=t("p",null,"The minimum required settings to start profiling:",-1)),o(d,{language:"hocon",code:y}),e[6]||(e[6]=t("h3",null,"Full Configuration",-1)),e[7]||(e[7]=t("p",null,"A complete configuration with all features enabled:",-1)),o(d,{language:"hocon",code:j}),o(i,{type:"tip"},{default:r(()=>[...e[0]||(e[0]=[t("strong",null,"Environment variables:",-1),a(" HOCON supports environment variable substitution. Use ",-1),t("code",null,"${VAR}",-1),a(" for required variables or ",-1),t("code",null,"${?VAR}",-1),a(" for optional ones. ",-1)])]),_:1}),e[8]||(e[8]=g('<h2 id="configuration-options" data-v-f50593e5>Configuration Options</h2><table data-v-f50593e5><thead data-v-f50593e5><tr data-v-f50593e5><th data-v-f50593e5>Option</th><th data-v-f50593e5>Required</th><th data-v-f50593e5>Description</th></tr></thead><tbody data-v-f50593e5><tr data-v-f50593e5><td data-v-f50593e5><code data-v-f50593e5>jeffrey-home</code></td><td data-v-f50593e5>Yes</td><td data-v-f50593e5>Base directory for Jeffrey data</td></tr><tr data-v-f50593e5><td data-v-f50593e5><code data-v-f50593e5>workspace-id</code></td><td data-v-f50593e5>Yes</td><td data-v-f50593e5>Workspace identifier (e.g., &quot;production&quot;, &quot;staging&quot;)</td></tr><tr data-v-f50593e5><td data-v-f50593e5><code data-v-f50593e5>project-name</code></td><td data-v-f50593e5>Yes</td><td data-v-f50593e5>Project name for organizing recordings</td></tr><tr data-v-f50593e5><td data-v-f50593e5><code data-v-f50593e5>profiler-path</code></td><td data-v-f50593e5>No</td><td data-v-f50593e5>Path to libasyncProfiler.so</td></tr><tr data-v-f50593e5><td data-v-f50593e5><code data-v-f50593e5>project-label</code></td><td data-v-f50593e5>No</td><td data-v-f50593e5>Human-readable project label</td></tr><tr data-v-f50593e5><td data-v-f50593e5><code data-v-f50593e5>attributes</code></td><td data-v-f50593e5>No</td><td data-v-f50593e5>Custom key-value metadata (e.g., cluster, namespace)</td></tr></tbody></table><h2 id="features" data-v-f50593e5>Features</h2><p data-v-f50593e5>Jeffrey CLI can enable additional features that capture more diagnostic data alongside JFR recordings:</p><div class="features-grid" data-v-f50593e5><div class="feature-card perf" data-v-f50593e5><div class="feature-icon" data-v-f50593e5><i class="bi bi-speedometer2" data-v-f50593e5></i></div><h4 data-v-f50593e5>Perf Counters</h4><p data-v-f50593e5>Captures JVM performance data via <code data-v-f50593e5>-XX:+UsePerfData</code>. Provides low-level metrics about JVM internals.</p><code data-v-f50593e5>perf-counters { enabled = true }</code></div><div class="feature-card heap" data-v-f50593e5><div class="feature-icon" data-v-f50593e5><i class="bi bi-memory" data-v-f50593e5></i></div><h4 data-v-f50593e5>Heap Dump</h4><p data-v-f50593e5>Automatic heap dumps on OutOfMemoryError or JVM crash. Compressed with gzip for efficient storage.</p><code data-v-f50593e5>heap-dump { enabled = true; type = &quot;crash&quot; }</code></div><div class="feature-card logging" data-v-f50593e5><div class="feature-icon" data-v-f50593e5><i class="bi bi-file-text" data-v-f50593e5></i></div><h4 data-v-f50593e5>JVM Logging</h4><p data-v-f50593e5>Structured JVM diagnostic logging including GC events, JIT compilation, and JFR activity.</p><code data-v-f50593e5>jvm-logging { enabled = true }</code></div><div class="feature-card messaging" data-v-f50593e5><div class="feature-icon" data-v-f50593e5><i class="bi bi-broadcast" data-v-f50593e5></i></div><h4 data-v-f50593e5>Messaging</h4><p data-v-f50593e5>Real-time JFR event streaming for live monitoring. Events are stored in a streaming repository.</p><code data-v-f50593e5>messaging { enabled = true, max-age = &quot;24h&quot; }</code></div><div class="feature-card jdk-options" data-v-f50593e5><div class="feature-icon" data-v-f50593e5><i class="bi bi-gear-wide-connected" data-v-f50593e5></i></div><h4 data-v-f50593e5>JDK Java Options</h4><p data-v-f50593e5>Sets <code data-v-f50593e5>JDK_JAVA_OPTIONS</code> environment variable with all JVM flags. The JVM picks this up automatically.</p><code data-v-f50593e5>jdk-java-options { enabled = true, additional-options = &quot;-Xmx2g&quot; }</code></div></div>',5)),o(i,{type:"info"},{default:r(()=>[...e[1]||(e[1]=[t("strong",null,"Path placeholders:",-1),a(" Use ",-1),t("code",null,"<<JEFFREY_CURRENT_SESSION>>",-1),a(" in configuration values to reference the session directory path. This is replaced at runtime with the actual path. ",-1)])]),_:1})]),o(l)]))}}),R=b(J,[["__scopeId","data-v-f50593e5"]]);export{R as default};
